import{f as x,t as f,u as E,V as O,a as v,v as P,b as j,j as m,c}from"./vendor-C51U7jOx.js";function T(r){const e=this;e.parser=n;function n(t){return x(t,{...e.data("settings"),...r,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function R(r,e){return r&&"run"in r?async function(n,t){const a=f(n,{file:t,...e});await r.run(a,t)}:function(n,t){return f(n,{file:t,...r||e})}}const N="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",p=[],w={allowDangerousHtml:!0},H=/^(https?|ircs?|mailto|xmpp)$/i,M=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function V(r){const e=S(r),n=D(r);return F(e.runSync(e.parse(n),n),r)}function S(r){const e=r.rehypePlugins||p,n=r.remarkPlugins||p,t=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...w}:w;return E().use(T).use(n).use(R,t).use(e)}function D(r){const e=r.children||"",n=new O;return typeof e=="string"&&(n.value=e),n}function F(r,e){const n=e.allowedElements,t=e.allowElement,a=e.components,u=e.disallowedElements,g=e.skipHtml,h=e.unwrapDisallowed,y=e.urlTransform||I;for(const s of M)Object.hasOwn(e,s.from)&&v("Unexpected `"+s.from+"` prop, "+(s.to?"use `"+s.to+"` instead":"remove it")+" (see <"+N+"#"+s.id+"> for more info)");return P(r,k),j(r,{Fragment:m.Fragment,components:a,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function k(s,l,i){if(s.type==="raw"&&i&&typeof l=="number")return g?i.children.splice(l,1):i.children[l]={type:"text",value:s.value},l;if(s.type==="element"){let o;for(o in c)if(Object.hasOwn(c,o)&&Object.hasOwn(s.properties,o)){const b=s.properties[o],d=c[o];(d===null||d.includes(s.tagName))&&(s.properties[o]=y(String(b||""),o,s))}}if(s.type==="element"){let o=n?!n.includes(s.tagName):u?u.includes(s.tagName):!1;if(!o&&t&&typeof l=="number"&&(o=!t(s,l,i)),o&&i&&typeof l=="number")return h&&s.children?i.children.splice(l,1,...s.children):i.children.splice(l,1),l}}}function I(r){const e=r.indexOf(":"),n=r.indexOf("?"),t=r.indexOf("#"),a=r.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||t!==-1&&e>t||H.test(r.slice(0,e))?r:""}export{V as M};
